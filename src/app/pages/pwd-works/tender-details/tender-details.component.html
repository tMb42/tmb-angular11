<div class="col-lg-12 panel-body">
  <div class="card">
    <form [formGroup]="tenderDetailsForm" style="margin-bottom: 0px;">
      <div class="d-flex col-12" style="color: white;">
        <div class="form-group col-1">
          <label>ID</label>
          <input type="text" formControlName="id" class="form-control" readonly required>
        </div>
        <div class="col-md-2 px-md-1">
          <div class="form-group">
            <label>Department</label>
            <select formControlName="department_id" class="form-control" required>
              <option value="null">--Select--</option>
              <option *ngFor="let item of depts" [value]="item.id">
                {{ item.department_short_name }}
              </option>
            </select>
          </div>
        </div>

        <div class="col-md-2 px-md-1">
          <div class="form-group">
            <label>Tender Authority</label>
            <select (change)="getTenderAuthorityOffice($event.target.value)" formControlName="authority_designation_id" class="form-control" required>
              <option value="null">--Select--</option>
              <option *ngFor="let item of designs" [value]="item.id">
                {{ item.designation_name }}
              </option>
            </select>
          </div>
        </div>
        <div class="form-group col-1">
          <label>Tender No</label>
          <input type="text" formControlName="tenderNo" class="form-control" required>
        </div>
        <div class="form-group col-2">
          <label>Work Order No</label>
          <input type="text" formControlName="workOrderNo" class="form-control" required>
        </div>
        <div class="col-md-2 px-md-1">
          <div class="form-group">
            <label>Work Order Date</label>
            <input type="text"
              class="form-control"
              placeholder="Select Date"
              bsDatepicker
              formControlName="work_order_date"
              (bsValueChange)="changeWod($event)"
              [bsConfig]="{ dateInputFormat: 'DD-MM-YYYY', isAnimated: true, containerClass: 'theme-green' }"
              >
          </div>
        </div>
        <div class="form-group col-1">
          <label>Display</label>
          <input type="text" formControlName="display" class="form-control" required>
        </div>
        <div class="form-group col-1">
          <label>Inforce</label>
          <input type="text" formControlName="inforce" class="form-control" required>
        </div>
      </div>

      <div class="d-flex col-12" style="color: white;">
        <div class="form-group col-2">
          <label>Agency</label>
          <input type="text" formControlName="agency" class="form-control" required>
        </div>
        <div class="form-group col-2">
          <label>Amount Put to Tender</label>
          <input type="text" formControlName="amount_put_tender" class="form-control" required>
        </div>
        <div class="form-group col-1">
          <label>Contactual</label>
          <input type="text" formControlName="contactual" class="form-control" required>
        </div>
        <div class="form-group col-2">
          <label>Tendered Amount</label>
          <input type="text" formControlName="tendered_amount" class="form-control" required>
        </div>
        <div class="col-md-2 px-md-1">
          <div class="form-group">
            <label>Date of Commencement</label>
            <input type="text"
              class="form-control"
              placeholder="Select Date"
              bsDatepicker
              formControlName="commencement_date"
              (bsValueChange)="changeDoc($event)"
              [bsConfig]="{ dateInputFormat: 'DD-MM-YYYY', isAnimated: true, containerClass: 'theme-green' }"
              >
          </div>
        </div>
        <div class="col-md-1 px-md-1">
          <div class="form-group">
            <label>Time</label>
            <input type="text" formControlName="complition_time" class="form-control" >
          </div>
        </div>
        <div class="col-md-1 px-md-1">
          <div class="form-group">
            <label>DLP</label>
            <input type="text" formControlName="dlp" placeholder="in months" class="form-control" >
          </div>
        </div>
        <div class="col-md-1 px-md-1">
          <div class="form-group">
            <label>FY</label>
            <input type="text" formControlName="financial_year" class="form-control" >
          </div>
        </div>
      </div>

      <div class="d-flex col-12" style="color: white;">
        <div class="col-5">
          <textarea type="text" rows="1" placeholder="Name of Work" formControlName="work_name" class="form-control"></textarea>
        </div>
          <div class="col-4">
          <textarea type="text" rows="1" placeholder="Remarks" formControlName="remarks" class="form-control"></textarea>
        </div>
        <button class="btn btn-sm btn-success" [disabled]="!tenderDetailsForm.valid" (click)="getUpdateTenderDetails()">Update</button>
        <button class="btn btn-sm btn-rose" (click)="formReset()" >Reset</button>
      </div>
    </form>
  </div>
  <div class="panel-heading col-lg-12 ">
    <div id="table-header" class="input-group col-lg-12">
      <div class="input-group-prepend col-lg-3">
        <div class="input-group-prepend">
          <span class="input-group-text" style="color: black; font-size: medium;">Search</span>
        </div>
        <input (keyup)="getSearchTableTenderDetails($event.target.value)" type="text" class="form-control" placeholder="Search table data" >
      </div>
        <span class="spacer"></span>
      <div class="input-group-prepend col-lg-2">
        <button class="btn btn-sm btn-rose">Add Tender Details</button>
      </div>
    </div>

    <div class="table-responsive">
      <table class="table table-striped table-hover table-sm ">
        <thead class="table-dark">
          <tr>
            <th class="text-center text-truncate" scope="col">ID</th>
            <th class="text-center" data-sortable="true" scope="col-2">Name of Work</th>
            <th class="text-center" data-sortable="true" scope="col">Name of Agency</th>
            <th class="text-center" scope="col">Rerence Tender</th>
            <th class="text-center" scope="col">Amount put to Tender</th>
            <th class="text-center" scope="col">Contactual %</th>
            <th class="text-center" scope="col">Tendered Amount</th>
            <th class="text-center" scope="col">Date of Commencement</th>
            <th class="text-center" scope="col">Complition Time</th>
            <th class="text-center" scope="col">Probable Complition</th>
            <th class="text-center" scope="col">Actual Complition</th>
            <th class="text-left" scope="col">Work Order Date</th>
            <th class="text-center" scope="col">Work Order No.</th>
            <th class="text-center" scope="col">Tender Authority</th>
            <th class="text-center" scope="col">Office</th>
            <th class="text-center" scope="col">DLP</th>
            <th class="text-center" scope="col">Financial Year</th>
            <th class="text-center" scope="col">Remarks</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of tenderDetails; let sl = index;" (click)="tenderDetailsById(item.id)">
            <td class="text-top" scope="row">{{ item.id }}</td>
            <td class="text-justify" scope="row">{{ item.work_name }}</td>
            <td class="text-center" scope="row">{{ item.agency }}</td>
            <td class="text-justify" scope="row">{{ item.tender_no }}</td>
            <td class="text-center" scope="row">{{ item.amount_put_tender | currency:'INR':'symbol':'4.0-2' }}</td>
            <td class="text-center" scope="row">{{ item.contactual}}</td>
            <td class="text-center" scope="row">{{ item.tendered_amount | currency:"INR" }}</td>
            <td class="text-center" scope="row">{{ item.commencement_date | date: 'dd-MM-yyyy' }}</td>
            <td class="text-center" scope="row">{{ item.complition_time }}</td>
            <td class="text-center" scope="row">{{ item.complition_date | date: 'dd-MM-yyyy' }}</td>
            <td class="text-center" scope="row">{{ item.actual_complition_date | date: 'dd-MM-yyyy' }}</td>
            <td class="text-center" scope="row">{{ item.work_order_date | date: 'dd-MM-yyyy' }}</td>
            <td class="text-justify" scope="row">{{ item.work_order_no }}</td>
            <td class="text-center" scope="row">{{ item.tenderAuthority }}</td>
            <td class="text-center" scope="row">{{ item.authority_office }}</td>
            <td class="text-center" style="white-space: nowrap;" scope="row">{{ item.dlp }}</td>
            <td class="text-center" scope="row">{{ item.financial_year }}</td>
            <td class="text-left" scope="row">{{ item.remarks }}</td>
          </tr>
        </tbody>
        <tfoot>

        </tfoot>
      </table>
    </div>
    <div class="pagination" id="table-pagination">
      <span class="spacer"></span>
    <div *ngIf="loading" class="d-flex align-items-center">
      <strong>Loading...</strong>
      <span class="spinner-border text-light"></span>
      <span class="spinner-border text-danger"></span>
      <span class="spinner-border text-dark"></span>
    </div>
    <span class="spacer"></span>
    <div class="pagination">
      <pagination
        [boundaryLinks]="showBoundaryLinks"
        [totalItems]="totalRecords"
        [maxSize]="maxSize"
        [itemsPerPage]="pageSize"
        [(ngModel)]="currentPage"
        (pageChanged)="pageChanged($event)"
      ></pagination>
    </div>
    <span class="spacer"></span>
    <div class="d-flex justify-content-right">
    <div class="col-md-8 mt-2" style="white-space: nowrap;">Item per Page</div>
      <select (change)="onTableSizeChange($event)" class="custom-select" >
        <option *ngFor="let size of pageSizes" [ngValue]="size">
          {{ size }}
        </option>
      </select>
    </div>
  </div>
<div>
